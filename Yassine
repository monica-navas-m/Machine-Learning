import pandas as pd
import matplotlib.pyplot as plt
# Load the data into a pandas dataframe
file_path = r'C:\Users\yassine\Desktop\Nova SBE\machine learning\group project\covtype_data.csv'
df = pd.read_csv(file_path)
# Define column names
col_names = ['Elevation', 'Aspect', 'Slope', 'Horizontal_Distance_To_Hydrology', 'Vertical_Distance_To_Hydrology ',
             'Horizontal_Distance_To_Roadways', 'Hillshade_9am', 'Hillshade_Noon', 'Hillshade_3pm',
             'Horizontal_Distance_To_Fire_Points']

# Generate names for binary columns based on their position
binary_col_names = [i+1 for i in range(4)]
binary_col_names += [i+1 for i in range(40)]

# Append the binary column names to the list of column names
col_names += binary_col_names

# Append the target variable name to the list of column names
col_names.append('Cover_Type_code')

# Rename the columns in the DataFrame
df.columns = col_names
df

df['Soil type code'] = df.iloc[:, 14:54].idxmax(axis=1)
df = pd.concat([df.iloc[:, :14], df.iloc[:, 54:]], axis=1)
df

from sklearn.cluster import KMeans

# Get the soil type code column
soil_type_code = df['Soil type code']

# Initialize the KMeans object with 5 clusters
kmeans = KMeans(n_clusters=10)

# Fit the KMeans model on the soil type code column
kmeans.fit(soil_type_code.to_numpy().reshape(-1, 1))

# Get the cluster labels for each soil type code
cluster_labels = kmeans.labels_

# Add the cluster labels as a new column in the dataframe
df['Soil type cluster'] = cluster_labels
df

# the clustering gonna be in lines ( Circles gonna take a huge time to run ) 
plt.scatter(df.index, df['Soil type cluster'], c=df['Soil type cluster'])
plt.xlabel('Row Index')
plt.ylabel('Cluster')
plt.title('Soil Type Clusters')
plt.show()
